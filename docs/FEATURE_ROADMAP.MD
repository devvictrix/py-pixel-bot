# Feature Roadmap & Status for Mark-I

This document tracks planned features and their status for the Mark-I visual automation tool. The project has progressed through initial versions, including a significant "AI-Accelerated v1.0.0" release, "v2.0.0" (advanced analysis/rules), "v3.0.0" (Enhanced GUI & Usability), and **v4.0.0 (Gemini-Powered Visual Intelligence - COMPLETE)**.
The current focus is **planning for v5.0.0 (AI-Driven Profile Generation)**.

**Key Supporting Documents:**

- `PROJECT_OVERVIEW.MD`
- `TECHNICAL_DESIGN.MD`
- `STATUS_LEGEND.MD`
- `DEV_CONFIG.MD`
- `adrs/`

---

## Granular Feature Breakdown (Historical & Planned)

| Version                                                                                 | Status      | Priority | Epic                     | Feature Name                                          | Description                                                                                                                                                                                                                        | Notes / Key Libraries                                                                                                         |
| :-------------------------------------------------------------------------------------- | :---------- | :------- | :----------------------- | :---------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------- |
| **v0.0.x to v3.0.x**                                                                    | Done        | ---      | ---                      | All Previous Features                                 | All features up to and including v3.0.x are complete.                                                                                                                                                                            | ---                                                                                                                           |
| **v4.0.0 (Gemini-Powered Visual Intelligence) - COMPLETED**                             |
| v4.0.0 (Phase 1)                                                                        | Done        | Critical | Gemini Integration       | `GeminiAnalyzer` Module - Core API Client             | Core API client for Gemini.                                                                                                                                                                                                        | `google-generativeai`.                                                                                                        |
| v4.0.0 (Phase 1)                                                                        | Done        | Critical | Gemini Integration       | New Condition Type: `gemini_vision_query`             | Rule condition for visual Q&A with Gemini.                                                                                                                                                                                         | `rules_engine.py`.                                                                                                            |
| v4.0.0 (Phase 1)                                                                        | Done        | High     | Usability (Gemini)       | GUI Support for `gemini_vision_query` Conditions      | GUI for configuring Gemini vision queries.                                                                                                                                                                                         | `CustomTkinter`.                                                                                                              |
| v4.0.0 (Phase 1)                                                                        | Done        | High     | Documentation (Gemini)   | Gemini Integration User Guide & NFRs                  | Documentation for Phase 1 Gemini features.                                                                                                                                                                                         | Markdown.                                                                                                                     |
| v4.0.0 (Phase 1.5)                                                                      | Done        | High     | Advanced Actions (Gemini)| Action on Gemini-Identified Element Bounding Box    | Click actions targeting Gemini-identified bounding boxes.                                                                                                                                                                          | `action_executor.py`.                                                                                                         |
| v4.0.0 (Phase 2)                                                                      | Done        | High     | Gemini Integration       | Gemini-Informed Decision Making (Prototype)         | `GeminiDecisionModule` for single goal-to-action execution via `gemini_perform_task`.                                                                                                                                            | `GeminiDecisionModule`.                                                                                                       |
| v4.0.0 (Phase 3)                                                                      | Done        | High     | Gemini Integration       | Natural Language Command Interface for Bot Control      | Enhanced `GeminiDecisionModule` for NLU, task decomposition, and multi-step execution via `gemini_perform_task`.                                                                                                               | `GeminiDecisionModule`.                                                                                                       |
| **v5.0.0 (AI-Driven Profile Generation) - CURRENT FOCUS (PLANNING)**                    |
| v5.0.0 (Phase 1)                                                                      | Planning    | Critical | AI Profile Generation    | **Core: AI Profile Creator - Goal to Plan**           | User provides a high-level goal (e.g., "Automate login to X app"). Mark-I (using Gemini) translates this into a structured, intermediate "plan" or sequence of logical steps. This is the core NLU/reasoning part.                  | New ADR needed. `GeminiAnalyzer`. Potential new `StrategyPlanner` module or enhanced `GeminiDecisionModule` for planning.     |
| v5.0.0 (Phase 1)                                                                      | Planning    | Critical | AI Profile Generation    | **Core: Plan to Mark-I Profile Elements (Initial)**   | Logic to translate the AI-generated "plan" (from previous step) into basic Mark-I profile elements: suggesting regions, identifying conditions (e.g., "look for text X", "find image Y"), and basic actions. User interaction for confirmation/capture. | `ConfigManager`. Logic for generating JSON structure. User interaction needed for template capture.                       |
| v5.0.0 (Phase 2)                                                                      | Not Started | High     | AI Profile Generation    | GUI for AI Profile Creation Mode                      | Dedicated UI workflow for users to input goals, trigger AI strategy generation, review the generated plan, and guide the profile element creation (e.g., confirming regions, capturing suggested templates).                           | `CustomTkinter`.                                                                                                              |
| v5.0.0 (Phase 2)                                                                      | Not Started | High     | AI Profile Generation    | Profile Refinement & Iteration                        | Allow users to provide feedback on the generated profile or plan, and have the AI attempt to refine it. Interactive loop.                                                                                                    | Enhanced `StrategyPlanner` or `GeminiDecisionModule`.                                                                         |
| v5.0.0 (Phase 3)                                                                      | Not Started | Medium   | AI Profile Generation    | "Learn from Observation" (Basic)                      | User performs a task. Mark-I records screen & actions (new capture capability needed). AI attempts to generalize this into a reusable plan/profile. (Highly complex, initial version would be very basic).                               | New screen/input recording module. Advanced AI prompting.                                                                       |
| **vFuture (Other Enhancements - Post v5.0.0 or Parallel if scope allows)**              |
| vFuture                                                                                 | Not Started | Medium   | Advanced Analysis        | Fuzzy Template Matching & Tolerance                   | Allow template matching with varying degrees of tolerance for slight changes in color, rotation, or scale.                                                                                                                         | Advanced `OpenCV-Python` techniques.                                                                                          |
| vFuture                                                                                 | Not Started | Medium   | Advanced Analysis        | Motion/Change Detection within Region                 | Detect if any significant visual change or motion occurs within a monitored region, not just static states.                                                                                                                        | Frame differencing, background subtraction.                                                                                   |
| vFuture                                                                                 | Not Started | Low      | Advanced Analysis        | Basic Object/Shape Detection (Simplified)             | Detect simple geometric shapes (circles, rectangles) or basic pre-trained objects.                                                                                                                                                 | `OpenCV-Python` (contour detection, basic ML models if lightweight).                                                          |
| vFuture                                                                                 | Not Started | High     | Usability                | Visual Logging & Debugging History                    | Save snapshots of monitored regions when rules trigger/fail. Provide a visual history or step-through for debugging rules.                                                                                                         | Image saving, GUI enhancements. Potential ADR.                                                                                |
| vFuture                                                                                 | Not Started | Medium   | Usability                | Region/Rule Library & Reusability                     | Allow users to save and import/export individual regions or rule definitions to be reused across different profiles.                                                                                                               | Enhanced `config_manager.py`.                                                                                                 |
| vFuture                                                                                 | Not Started | Low      | Advanced Actions         | Sound Alerts / System Notifications                   | Play a sound or send a system notification when a condition is met.                                                                                                                                                                | `playsound` library, platform-specific notification libs.                                                                     |
| vFuture                                                                                 | Not Started | Medium   | Integration              | Webhook / API Call Action                             | Allow the bot to send an HTTP request to an external service when a condition is met.                                                                                                                                              | `requests` library. Potential ADR for security/config.                                                                        |


---

**Summary & Next Steps:**

- **v1.0.0, v2.0.0, v3.0.0, v4.0.0: All COMPLETE.**
    -   v4.0.0 successfully integrated Gemini for advanced visual queries, bounding box actions, goal-driven single-step decisions, and a natural language command interface.

- **Current Focus: v5.0.0 (AI-Driven Profile Generation) - Initial Planning & Design.**
    -   **Overall Goal for v5.0.0:** Enable Mark-I to assist users in *creating* automation profiles by understanding high-level goals and translating them into Mark-I configurations.
    -   **Immediate Next Step (AI Collaborator Action):**
        1.  **Draft a new ADR (Architectural Decision Record) for "AI Profile Creator / Strategy Learning Mode".** This ADR will explore:
            *   Different architectural approaches for this feature.
            *   How user goals will be input and processed.
            *   The nature of the intermediate "plan" generated by Gemini.
            *   The translation mechanism from this plan to Mark-I JSON profile elements (regions, conditions, actions).
            *   The user interaction flow for confirming, refining, and saving AI-generated profiles.
            *   Key challenges and risks.
        2.  **Propose updates to `TECHNICAL_DESIGN.MD`** to outline where this new capability will fit and how it will interact with existing modules (e.g., `GeminiAnalyzer`, `ConfigManager`, potentially GUI).
    -   **Subsequent Steps for v5.0.0 (Phase 1 - Goal to Plan & Basic Profile Elements):**
        1.  **DevLead Review of ADR and initial `TECHNICAL_DESIGN.MD` proposals.**
        2.  **Detailed Design of Core Modules** for "Goal to Plan" translation and "Plan to Profile Elements" conversion.
        3.  **Implementation & Prototyping.**
        4.  **Testing.**
