// File: docs/FEATURE_ROADMAP.MD

# Feature Roadmap & Status

This document tracks planned features and their status for this visual automation tool. The project has progressed through initial versions, including a significant "AI-Accelerated v1.0.0" release and "v2.0.0" which added advanced analysis and rule capabilities. The current focus is "v3.0.0" for enhanced GUI and usability.

**Key Supporting Documents:**

- `PROJECT_OVERVIEW.MD`
- `TECHNICAL_DESIGN.MD`
- `STATUS_LEGEND.MD`
- `DEV_CONFIG.MD`
- `adrs/`

---

## Granular Feature Breakdown (Historical & Planned)

| Version                                                                                 | Status      | Priority | Epic                     | Feature Name                                          | Description                                                                                                                                                                                                            | Notes / Key Libraries                                                               |
| :-------------------------------------------------------------------------------------- | :---------- | :------- | :----------------------- | :---------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------- |
| **v0.0.x (Core Foundations & Basic Visual PoCs) - Components of AI-Accelerated v1.0.0** |
| `v0.0.1`                                                                                | Done        | Critical | Core Capture PoC         | Define Region (Coordinates) & Capture Image           | Allow user to define a single rectangular region via (x,y,w,h) in config. Capture a single image of this region.                                                                                                       | `OpenCV-Python`, `Pillow`, `json`.                                                  |
| `v0.0.1`                                                                                | Done        | Critical | Basic Setup              | Project Structure, Initial Docs, Logging Foundation   | Setup basic project folders, virtual env, core docs, foundational logging setup (per ADR-007) based on `APP_ENV`.                                                                                                      | Manual setup, `python-dotenv`, `logging`.                                           |
| `v0.0.2`                                                                                | Done        | Critical | Basic Analysis PoC       | Specific Pixel Color Check                            | In the captured region, check the color of a specific predefined pixel.                                                                                                                                                | `OpenCV-Python` (NumPy).                                                            |
| `v0.0.2`                                                                                | Done        | High     | Basic Control PoC        | CLI - Trigger Capture & Basic Analysis (Conceptual)   | Basic CLI command to trigger one-shot capture and pixel color check (now part of full CLI).                                                                                                                            | `argparse`.                                                                         |
| `v0.0.3`                                                                                | Done        | Critical | Basic Action PoC         | Conditional Mouse Click (Fixed Pos - Evolved)         | IF pixel color IS specific_color, THEN simulate a mouse click. (Evolved to richer actions).                                                                                                                            | `pyautogui`.                                                                        |
| `v0.0.3`                                                                                | Done        | High     | Configuration PoC        | Load Region & Pixel Check Params from File            | Load region coords, target pixel offset, and expected color from a JSON config file.                                                                                                                                   | `json` module.                                                                      |
| **v0.1.0 (Core Modules & Basic Interactions - Components of AI-Accelerated v1.0.0)**    |
| v0.1.0                                                                                  | Done        | Critical | Region Management        | Multiple Region Definitions (Config)                  | Allow defining multiple named regions in the config file.                                                                                                                                                              | `json`.                                                                             |
| v0.1.0                                                                                  | Done        | Critical | Enhanced Analysis        | Average Color of Region/Sub-region                    | Calculate the average color of the entire defined region or a sub-rectangle within it.                                                                                                                                 | `OpenCV-Python`, `NumPy`.                                                           |
| v0.1.0                                                                                  | Done        | Critical | Enhanced Actions         | Click within Target Region                            | IF condition MET, click at specific relative coordinates _within_ the monitored region, or its center.                                                                                                                 | `pyautogui`.                                                                        |
| v0.1.0                                                                                  | Done        | Critical | Core Loop                | Continuous Monitoring Loop (Fixed Interval)           | Implement a threaded loop that repeatedly captures, analyzes, and potentially acts.                                                                                                                                    | `threading`, `time`.                                                                |
| v0.1.0                                                                                  | Done        | Critical | CLI Controls             | CLI - Start/Stop Monitoring, Load Profile             | Functional CLI (`argparse`) to load a profile, start/stop continuous monitoring.                                                                                                                                       | `argparse`.                                                                         |
| **v0.2.0 (Template Matching & Improved Rules - Components of AI-Accelerated v1.0.0)**   |
| v0.2.0                                                                                  | Done        | Critical | Advanced Analysis        | Basic Template (Image) Matching                       | User provides template image. Bot searches for this template. Reports if found, location, confidence. Template loading implemented.                                                                                    | `OpenCV-Python`.                                                                    |
| v0.2.0                                                                                  | Done        | Critical | Enhanced Actions         | Click Relative to Found Template                      | IF template IS found, click at an offset relative to the template's found location.                                                                                                                                    | `pyautogui`.                                                                        |
| v0.2.0                                                                                  | Done        | High     | Rules Engine             | Simple Rules (IF visual_event THEN action)            | Formalize rule structure in config (per ADR-004 Option 1).                                                                                                                                                             | `json` for rules.                                                                   |
| v0.2.0                                                                                  | Done        | Medium   | Performance              | Configurable FPS/Delay for Monitoring Loop            | Allow user to configure the speed of the continuous monitoring loop via profile settings.                                                                                                                              | Profile parameter.                                                                  |
| **v0.3.0 (OCR Integration - Components of AI-Accelerated v1.0.0)**                      |
| v0.3.0                                                                                  | Done        | Critical | Advanced Analysis        | OCR - Text Extraction from Region                     | Extract text from the monitored region using Tesseract.                                                                                                                                                                | `pytesseract`, `OpenCV-Python`.                                                     |
| v0.3.0                                                                                  | Done        | Critical | Rules Engine             | Text-Based Conditions                                 | Rules like: "IF text CONTAINS 'keyword' THEN action".                                                                                                                                                                  | String matching.                                                                    |
| v0.3.0                                                                                  | Done        | High     | Action Execution         | Basic Keyboard Input Action                           | IF condition MET, simulate typing a predefined string or pressing specific keys.                                                                                                                                       | `pyautogui`.                                                                        |
| v0.3.0                                                                                  | Done        | Medium   | Error Handling           | Basic OCR Error Handling                              | Handle Tesseract not found or OCR failures.                                                                                                                                                                            | Try-except, logging.                                                                |
| **v0.4.0 (Basic GUI for Region Definition - Components of AI-Accelerated v1.0.0)**      |
| v0.4.0                                                                                  | Done        | High     | Usability                | GUI Tool for Region Selection                         | GUI (`CustomTkinter`) to draw, name, confirm regions.                                                                                                                                                                  | `CustomTkinter`.                                                                    |
| v0.4.0                                                                                  | Done        | Medium   | Configuration            | GUI for Profile Management (Add Region to Profile)    | CLI command `--add-region` uses GUI to update profile via `ConfigManager`.                                                                                                                                             | `CustomTkinter`, `ConfigManager`.                                                   |
| **v1.0.0 (AI-Accelerated Release) - STABILIZATION & DOCUMENTATION**                     |
| v1.0.0                                                                                  | Done        | Critical | Integration & Testing    | Consolidate & Test All AI-Accelerated v1.0.0 Features | Thoroughly test the `run` and `add-region` commands with various profiles and screen conditions. Identify and fix bugs. Log extensively.                                                                               | All modules.                                                                        |
| v1.0.0                                                                                  | Done        | High     | Documentation            | User Guide & README Finalization                      | Review and finalize the `README.md` to ensure it's accurate, clear, and complete for a v1.0.0 user. Add more example profiles.                                                                                         | Markdown.                                                                           |
| v1.0.0                                                                                  | Done        | Critical | Error Handling           | Robust Global Error Handling & Logging Review         | Final review of error messages and log clarity based on testing experiences. Ensure graceful failure modes.                                                                                                            | Python `logging`, try-except.                                                       |
| **v2.0.0 (Advanced Visual Analysis & Rules) - COMPLETED**                               |
| v2.0.0                                                                                  | Done        | High     | Rules Engine Enhancement | Compound Conditions (AND/OR Logic)                    | Evolve RulesEngine to support ADR-004 Option 2: multiple conditions per rule with AND/OR logic.                                                                                                                        | Enhanced `rules_engine.py`, JSON profile schema update.                             |
| v2.0.0                                                                                  | Done        | High     | Advanced Analysis        | OCR Confidence Thresholds in Rules                    | Allow rules to use OCR confidence scores (e.g., "IF text CONTAINS 'X' AND confidence > 0.85").                                                                                                                         | `pytesseract` features, `rules_engine.py`.                                          |
| v2.0.0                                                                                  | Done        | Medium   | Advanced Analysis        | Color Palette Analysis / Dominant Color               | Analyze region for dominant colors using K-Means. Rules can check against these.                                                                                                                                       | `OpenCV-Python` (k-means).                                                          |
| v2.0.0                                                                                  | Done        | Medium   | Rules Engine             | Variables in Rules / Actions                          | Allow defining temporary rule-scoped variables from analysis (OCR, template match) and using them in subsequent conditions/actions.                                                                                    | `rules_engine.py` (variable context, substitution).                                 |
| v2.0.0                                                                                  | Done        | Medium   | Performance              | Selective Analysis per Rule                           | Optimize `MainController` to only run specific general analyses (OCR, dominant color) on a region if an active rule requires it.                                                                                       | `main_controller.py`, `rules_engine.py` interaction.                                |
| **Internal (Non-functional / DX)**                                                      |
| N/A                                                                                     | Done        | High     | Developer Experience     | Flake8 & Black Configuration                          | Configure Flake8 and Black for consistent linting and formatting (line length 99). `logging_setup.py` updated.                                                                                                         | `.flake8`, `pyproject.toml`.                                                        |
| N/A                                                                                     | Done        | Critical | Core System              | Fix CLI `run` Command Path & Import Errors            | Corrected project root detection in `ConfigManager` and missing `os`/`Callable` imports in `MainController`, `AnalysisEngine`, `RulesEngine` to enable `run` command functionality.                                    | `config_manager.py`, `main_controller.py`, `analysis_engine.py`, `rules_engine.py`. |
| **v3.0.0 (Enhanced GUI & Usability)**                                                   |
| v3.0.0                                                                                  | In Progress | High     | Usability                | Full GUI for Profile & Rule Configuration             | A comprehensive GUI (`MainAppWindow`) to visually create/edit profiles: regions, templates, rules (conditions, actions, parameters, structure conversion), settings. Includes robust input validation and refinements. | `CustomTkinter`. Phase 1.8.1 (Input Validation & Refinements) is current.           |
| v3.0.0                                                                                  | Not Started | Low      | Usability                | GUI - Sub-condition/Rule Reordering (Simple)          | Add simple "Move Up/Down" buttons for sub-conditions and rules in the GUI editor lists.                                                                                                                                | `CustomTkinter`.                                                                    |
| v3.0.0                                                                                  | Not Started | Medium   | Usability                | Real-time Visual Feedback in GUI                      | GUI shows live view of monitored region(s), overlays detected elements (templates, text boxes) for easier debugging/setup of rules.                                                                                    | `OpenCV-Python` with GUI library.                                                   |
| v3.0.0                                                                                  | Not Started | Medium   | Action Execution         | Chained Actions / Simple Macros                       | Allow defining a sequence of multiple actions to be performed if a single condition is met.                                                                                                                            | Data structure for action sequences in profile, `action_executor.py`.               |
| v3.0.0                                                                                  | Not Started | Medium   | Usability                | Profile Importer/Exporter                             | Simple way to share bot profiles.                                                                                                                                                                                      | `ConfigManager` enhancements.                                                       |
| **vFuture (Advanced Enhancements & Integrations - Post v3.0.0)**                        |
| vFuture                                                                                 | Not Started | Medium   | Advanced Analysis        | Fuzzy Template Matching & Tolerance                   | Allow template matching with varying degrees of tolerance for slight changes in color, rotation, or scale.                                                                                                             | Advanced `OpenCV-Python` techniques.                                                |
| vFuture                                                                                 | Not Started | Medium   | Advanced Analysis        | Motion/Change Detection within Region                 | Detect if any significant visual change or motion occurs within a monitored region, not just static states.                                                                                                            | Frame differencing, background subtraction.                                         |
| vFuture                                                                                 | Not Started | Low      | Advanced Analysis        | Basic Object/Shape Detection (Simplified)             | Detect simple geometric shapes (circles, rectangles) or basic pre-trained objects.                                                                                                                                     | `OpenCV-Python` (contour detection, basic ML models if lightweight).                |
| vFuture                                                                                 | Not Started | High     | Advanced Actions         | Dynamic Action Parameters based on Analysis           | Allow actions to use data extracted during analysis more deeply (e.g., type OCR'd number, click at OCR'd text location).                                                                                               | Enhanced `action_executor.py`, `rules_engine.py`.                                   |
| vFuture                                                                                 | Not Started | Low      | Advanced Actions         | Sound Alerts / System Notifications                   | Play a sound or send a system notification when a condition is met.                                                                                                                                                    | `playsound` library, platform-specific notification libs.                           |
| vFuture                                                                                 | Not Started | Medium   | Integration              | Webhook / API Call Action                             | Allow the bot to send an HTTP request to an external service when a condition is met.                                                                                                                                  | `requests` library. Potential ADR for security/config.                              |
| vFuture                                                                                 | Not Started | High     | Usability                | Visual Logging & Debugging History                    | Save snapshots of monitored regions when rules trigger/fail. Provide a visual history or step-through for debugging rules.                                                                                             | Image saving, GUI enhancements. Potential ADR.                                      |
| vFuture                                                                                 | Not Started | Medium   | Usability                | Region/Rule Library & Reusability                     | Allow users to save and import/export individual regions or rule definitions to be reused across different profiles.                                                                                                   | Enhanced `config_manager.py`.                                                       |

---

**Summary & Next Steps:**

- **AI-Accelerated v1.0.0 Complete.**
- **v2.0.0 (Advanced Visual Analysis & Rules) Complete.**
- **Core System Fixes:**
  - Resolved `FileNotFoundError` for `run` command.
  - Resolved multiple `NameError` instances (missing `os` and `Callable` imports) in `MainController`, `AnalysisEngine`, and `RulesEngine`.
- **Tooling Update:**
  - Flake8 & Black configured for consistent linting/formatting.
- **Current Development Focus: `v3.0.0 (Enhanced GUI & Usability)`**
  - **"Full GUI for Profile & Rule Configuration"** is the primary epic.
  - **Phase 1.8.1 (Input Validation & Refinements)** was the last completed GUI phase.
- **Immediate Next Step:** DevLead to test the `run profiles/example_profile.json` command again. It should now execute without the previously encountered `NameError`s and proceed with the bot's monitoring loop.
- **Following Successful Test:** Continue with GUI Refinements and UX Improvements for v3.0.0 as previously outlined (State Consistency Testing, Tooltips, Status Bar, Code Refinements, Logging Review).
- After these refinements, the "Full GUI for Profile & Rule Configuration" will be very close to its initial v3.0.0 scope. We will then assess the "Sub-condition/Rule Reordering (Simple)" feature before moving to other major v3.0.0 items.

---
